{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","removePerson","map","person","key","name","number","onClick","id","Notification","message","level","msg","style","color","padding","border","borderRadius","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","notificationMsg","setNotificationMsg","useEffect","personService","initialPersons","personsFiltered","toLowerCase","includes","event","preventDefault","some","existingPerson","find","window","confirm","updatedPerson","returnedData","setTimeout","concat","catch","error","console","log","target","idToRemove","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c0768dfa.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter, handleFilterChange}) => {\n  return (\n    <>\n      Filter with name <input value={filter} onChange={handleFilterChange} />\n    </>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => (\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({persons, removePerson}) => (\n        <ul>\n          {persons.map(person => \n            <li key={person.name}>\n              {person.name} - {person.number} <button onClick={() => removePerson(person.id)}>Delete</button>\n            </li>)}\n        </ul>\n)\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = (message) => {\n  const infoStyle = {\n    color: 'green',\n    padding: 15,\n    border: '3px solid green',\n    borderRadius: 5\n  }\n  const errorStyle = {\n    color: 'red',\n    padding: 15,\n    border: '3px solid red',\n    borderRadius: 5\n  }\n\n  if (message.message === null) {\n    return null\n  }\n  let level = message.message.level\n  let msg = message.message.msg\n\n  let style = infoStyle\n  if (level === 'error') {\n    style = errorStyle\n  }\n  \n  return (\n    <div style={style}>\n      {msg}\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getPersons = () => {\n  return axios\n    .get(baseUrl)\n    .then(response => response.data)\n}\n\nconst addPerson = newPerson => {\n  return axios\n    .post(baseUrl, newPerson)\n    .then(response => response.data)\n}\n\nconst updatePerson = (id, newPerson) => {\n  return axios\n    .put(baseUrl + '/' + id, newPerson)\n    .then(response => response.data)\n}\n\nconst removePerson = id => {\n  return axios\n    .delete(baseUrl + '/' + id)\n    .then(response => response.data)\n}\n\nexport default {getPersons, addPerson, updatePerson, removePerson}\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notificationMsg, setNotificationMsg ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getPersons()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (!persons.some(person => person.name === newName)) {\n      const newPerson = { name: newName, number: newNumber }\n      personService\n        .addPerson(newPerson)\n        .then(returnedData => {\n          setPersons(persons.concat(returnedData))\n          setNotificationMsg({msg: 'Added new person \"' + newName + '\" with number ' + newNumber, level: 'info'});\n        })\n        .catch(error => {\n          console.log(error)\n          console.log(error.response.data)\n          setNotificationMsg({msg: 'Adding new person failed: ' + error.response.data.error, level: 'error'});\n        })\n      setTimeout(() => {\n        setNotificationMsg(null)\n      }, 3000)\n    } else {\n      let existingPerson = persons.find(person => person.name === newName)\n      if (existingPerson.number !== newNumber) {\n        if (window.confirm('Person \"' + newName + '\" is already added in the phonebook. Would you like to update their phone number (' + existingPerson.number + ' -> ' + newNumber + ')?')) {\n          const updatedPerson = { ...existingPerson, number: newNumber }\n          personService\n            .updatePerson(existingPerson.id, updatedPerson)\n            .then(returnedData => {\n              setPersons(persons.map(person => person.id !== returnedData.id ? person : returnedData))\n            })\n          \n          setNotificationMsg({msg: 'Updated person ' + newName + '\\'s number to ' + newNumber, level: 'info'});\n          setTimeout(() => {\n            setNotificationMsg(null)\n          }, 3000)\n        }\n      } else {\n        setNotificationMsg({msg: 'Person \"' + newName + '\" is already added in the phonebook.', level: 'error'})\n        setTimeout(() => {\n          setNotificationMsg(null)\n        }, 3000)\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removePerson = (id) => {\n    let idToRemove = id\n    let personToRemove = persons.find(person => person.id === idToRemove)\n    if (window.confirm('Do you really want to remove \"' + personToRemove.name + '\" from the phonebook?')) {\n      personService\n        .removePerson(idToRemove)\n        .then(returnedData => {\n          setPersons(persons.filter(person => person.id !== idToRemove))\n          setNotificationMsg({msg: 'Removed person \"' + personToRemove.name + '\"', level: 'info'});\n          setTimeout(() => {\n            setNotificationMsg(null)\n          }, 3000)\n        })\n        .catch(error => {\n          setNotificationMsg({msg: 'Could not remove \"' + personToRemove.name + '\" since it was not found. Maybe someone else has deleted it?', level: 'error'})\n          setPersons(persons.filter(person => person.id !== idToRemove))\n          setTimeout(() => {\n            setNotificationMsg(null)\n          }, 3000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const personsFiltered = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMsg} />\n      <h3>Add a new person:</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers:</h2>\n        <Filter filter={filter} handleFilterChange={handleFilterChange} />\n        <Persons persons={personsFiltered} removePerson={removePerson}  />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}